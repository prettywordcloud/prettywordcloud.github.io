(function(t){function e(e){for(var i,o,n=e[0],x=e[1],l=e[2],c=0,h=[];c<n.length;c++)o=n[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(i in x)Object.prototype.hasOwnProperty.call(x,i)&&(t[i]=x[i]);y&&y(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var x=a[n];0!==r[x]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],x=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var y=x;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),r=a.n(i);r.a},2930:function(t,e,a){"use strict";var i=a("90e6"),r=a.n(i);r.a},"4c62":function(t,e,a){var i=a("970b"),r=function t(){"use strict";i(this,t),this.order=[{y:0,x:0},{y:0,x:1},{y:0,x:2},{y:0,x:3},{y:0,x:4},{y:0,x:5},{y:0,x:6},{y:0,x:7},{y:0,x:8},{y:0,x:9},{y:0,x:10},{y:0,x:11},{y:0,x:12},{y:0,x:13},{y:0,x:14},{y:0,x:15},{y:0,x:16},{y:0,x:17},{y:0,x:18},{y:0,x:19},{y:0,x:20},{y:0,x:21},{y:0,x:22},{y:0,x:23},{y:0,x:24},{y:1,x:24},{y:2,x:24},{y:3,x:24},{y:4,x:24},{y:5,x:24},{y:6,x:24},{y:7,x:24},{y:8,x:24},{y:9,x:24},{y:10,x:24},{y:11,x:24},{y:12,x:24},{y:13,x:24},{y:14,x:24},{y:15,x:24},{y:16,x:24},{y:17,x:24},{y:18,x:24},{y:19,x:24},{y:20,x:24},{y:21,x:24},{y:22,x:24},{y:23,x:24},{y:24,x:24},{y:24,x:23},{y:24,x:22},{y:24,x:21},{y:24,x:20},{y:24,x:19},{y:24,x:18},{y:24,x:17},{y:24,x:16},{y:24,x:15},{y:24,x:14},{y:24,x:13},{y:24,x:12},{y:24,x:11},{y:24,x:10},{y:24,x:9},{y:24,x:8},{y:24,x:7},{y:24,x:6},{y:24,x:5},{y:24,x:4},{y:24,x:3},{y:24,x:2},{y:24,x:1},{y:24,x:0},{y:23,x:0},{y:22,x:0},{y:21,x:0},{y:20,x:0},{y:19,x:0},{y:18,x:0},{y:17,x:0},{y:16,x:0},{y:15,x:0},{y:14,x:0},{y:13,x:0},{y:12,x:0},{y:11,x:0},{y:10,x:0},{y:9,x:0},{y:8,x:0},{y:7,x:0},{y:6,x:0},{y:5,x:0},{y:4,x:0},{y:3,x:0},{y:2,x:0},{y:1,x:0},{y:1,x:1},{y:1,x:2},{y:1,x:3},{y:1,x:4},{y:1,x:5},{y:1,x:6},{y:1,x:7},{y:1,x:8},{y:1,x:9},{y:1,x:10},{y:1,x:11},{y:1,x:12},{y:1,x:13},{y:1,x:14},{y:1,x:15},{y:1,x:16},{y:1,x:17},{y:1,x:18},{y:1,x:19},{y:1,x:20},{y:1,x:21},{y:1,x:22},{y:1,x:23},{y:2,x:23},{y:3,x:23},{y:4,x:23},{y:5,x:23},{y:6,x:23},{y:7,x:23},{y:8,x:23},{y:9,x:23},{y:10,x:23},{y:11,x:23},{y:12,x:23},{y:13,x:23},{y:14,x:23},{y:15,x:23},{y:16,x:23},{y:17,x:23},{y:18,x:23},{y:19,x:23},{y:20,x:23},{y:21,x:23},{y:22,x:23},{y:23,x:23},{y:23,x:22},{y:23,x:21},{y:23,x:20},{y:23,x:19},{y:23,x:18},{y:23,x:17},{y:23,x:16},{y:23,x:15},{y:23,x:14},{y:23,x:13},{y:23,x:12},{y:23,x:11},{y:23,x:10},{y:23,x:9},{y:23,x:8},{y:23,x:7},{y:23,x:6},{y:23,x:5},{y:23,x:4},{y:23,x:3},{y:23,x:2},{y:23,x:1},{y:22,x:1},{y:21,x:1},{y:20,x:1},{y:19,x:1},{y:18,x:1},{y:17,x:1},{y:16,x:1},{y:15,x:1},{y:14,x:1},{y:13,x:1},{y:12,x:1},{y:11,x:1},{y:10,x:1},{y:9,x:1},{y:8,x:1},{y:7,x:1},{y:6,x:1},{y:5,x:1},{y:4,x:1},{y:3,x:1},{y:2,x:1},{y:2,x:2},{y:2,x:3},{y:2,x:4},{y:2,x:5},{y:2,x:6},{y:2,x:7},{y:2,x:8},{y:2,x:9},{y:2,x:10},{y:2,x:11},{y:2,x:12},{y:2,x:13},{y:2,x:14},{y:2,x:15},{y:2,x:16},{y:2,x:17},{y:2,x:18},{y:2,x:19},{y:2,x:20},{y:2,x:21},{y:2,x:22},{y:3,x:22},{y:4,x:22},{y:5,x:22},{y:6,x:22},{y:7,x:22},{y:8,x:22},{y:9,x:22},{y:10,x:22},{y:11,x:22},{y:12,x:22},{y:13,x:22},{y:14,x:22},{y:15,x:22},{y:16,x:22},{y:17,x:22},{y:18,x:22},{y:19,x:22},{y:20,x:22},{y:21,x:22},{y:22,x:22},{y:22,x:21},{y:22,x:20},{y:22,x:19},{y:22,x:18},{y:22,x:17},{y:22,x:16},{y:22,x:15},{y:22,x:14},{y:22,x:13},{y:22,x:12},{y:22,x:11},{y:22,x:10},{y:22,x:9},{y:22,x:8},{y:22,x:7},{y:22,x:6},{y:22,x:5},{y:22,x:4},{y:22,x:3},{y:22,x:2},{y:21,x:2},{y:20,x:2},{y:19,x:2},{y:18,x:2},{y:17,x:2},{y:16,x:2},{y:15,x:2},{y:14,x:2},{y:13,x:2},{y:12,x:2},{y:11,x:2},{y:10,x:2},{y:9,x:2},{y:8,x:2},{y:7,x:2},{y:6,x:2},{y:5,x:2},{y:4,x:2},{y:3,x:2},{y:3,x:3},{y:3,x:4},{y:3,x:5},{y:3,x:6},{y:3,x:7},{y:3,x:8},{y:3,x:9},{y:3,x:10},{y:3,x:11},{y:3,x:12},{y:3,x:13},{y:3,x:14},{y:3,x:15},{y:3,x:16},{y:3,x:17},{y:3,x:18},{y:3,x:19},{y:3,x:20},{y:3,x:21},{y:4,x:21},{y:5,x:21},{y:6,x:21},{y:7,x:21},{y:8,x:21},{y:9,x:21},{y:10,x:21},{y:11,x:21},{y:12,x:21},{y:13,x:21},{y:14,x:21},{y:15,x:21},{y:16,x:21},{y:17,x:21},{y:18,x:21},{y:19,x:21},{y:20,x:21},{y:21,x:21},{y:21,x:20},{y:21,x:19},{y:21,x:18},{y:21,x:17},{y:21,x:16},{y:21,x:15},{y:21,x:14},{y:21,x:13},{y:21,x:12},{y:21,x:11},{y:21,x:10},{y:21,x:9},{y:21,x:8},{y:21,x:7},{y:21,x:6},{y:21,x:5},{y:21,x:4},{y:21,x:3},{y:20,x:3},{y:19,x:3},{y:18,x:3},{y:17,x:3},{y:16,x:3},{y:15,x:3},{y:14,x:3},{y:13,x:3},{y:12,x:3},{y:11,x:3},{y:10,x:3},{y:9,x:3},{y:8,x:3},{y:7,x:3},{y:6,x:3},{y:5,x:3},{y:4,x:3},{y:4,x:4},{y:4,x:5},{y:4,x:6},{y:4,x:7},{y:4,x:8},{y:4,x:9},{y:4,x:10},{y:4,x:11},{y:4,x:12},{y:4,x:13},{y:4,x:14},{y:4,x:15},{y:4,x:16},{y:4,x:17},{y:4,x:18},{y:4,x:19},{y:4,x:20},{y:5,x:20},{y:6,x:20},{y:7,x:20},{y:8,x:20},{y:9,x:20},{y:10,x:20},{y:11,x:20},{y:12,x:20},{y:13,x:20},{y:14,x:20},{y:15,x:20},{y:16,x:20},{y:17,x:20},{y:18,x:20},{y:19,x:20},{y:20,x:20},{y:20,x:19},{y:20,x:18},{y:20,x:17},{y:20,x:16},{y:20,x:15},{y:20,x:14},{y:20,x:13},{y:20,x:12},{y:20,x:11},{y:20,x:10},{y:20,x:9},{y:20,x:8},{y:20,x:7},{y:20,x:6},{y:20,x:5},{y:20,x:4},{y:19,x:4},{y:18,x:4},{y:17,x:4},{y:16,x:4},{y:15,x:4},{y:14,x:4},{y:13,x:4},{y:12,x:4},{y:11,x:4},{y:10,x:4},{y:9,x:4},{y:8,x:4},{y:7,x:4},{y:6,x:4},{y:5,x:4},{y:5,x:5},{y:5,x:6},{y:5,x:7},{y:5,x:8},{y:5,x:9},{y:5,x:10},{y:5,x:11},{y:5,x:12},{y:5,x:13},{y:5,x:14},{y:5,x:15},{y:5,x:16},{y:5,x:17},{y:5,x:18},{y:5,x:19},{y:6,x:19},{y:7,x:19},{y:8,x:19},{y:9,x:19},{y:10,x:19},{y:11,x:19},{y:12,x:19},{y:13,x:19},{y:14,x:19},{y:15,x:19},{y:16,x:19},{y:17,x:19},{y:18,x:19},{y:19,x:19},{y:19,x:18},{y:19,x:17},{y:19,x:16},{y:19,x:15},{y:19,x:14},{y:19,x:13},{y:19,x:12},{y:19,x:11},{y:19,x:10},{y:19,x:9},{y:19,x:8},{y:19,x:7},{y:19,x:6},{y:19,x:5},{y:18,x:5},{y:17,x:5},{y:16,x:5},{y:15,x:5},{y:14,x:5},{y:13,x:5},{y:12,x:5},{y:11,x:5},{y:10,x:5},{y:9,x:5},{y:8,x:5},{y:7,x:5},{y:6,x:5},{y:6,x:6},{y:6,x:7},{y:6,x:8},{y:6,x:9},{y:6,x:10},{y:6,x:11},{y:6,x:12},{y:6,x:13},{y:6,x:14},{y:6,x:15},{y:6,x:16},{y:6,x:17},{y:6,x:18},{y:7,x:18},{y:8,x:18},{y:9,x:18},{y:10,x:18},{y:11,x:18},{y:12,x:18},{y:13,x:18},{y:14,x:18},{y:15,x:18},{y:16,x:18},{y:17,x:18},{y:18,x:18},{y:18,x:17},{y:18,x:16},{y:18,x:15},{y:18,x:14},{y:18,x:13},{y:18,x:12},{y:18,x:11},{y:18,x:10},{y:18,x:9},{y:18,x:8},{y:18,x:7},{y:18,x:6},{y:17,x:6},{y:16,x:6},{y:15,x:6},{y:14,x:6},{y:13,x:6},{y:12,x:6},{y:11,x:6},{y:10,x:6},{y:9,x:6},{y:8,x:6},{y:7,x:6},{y:7,x:7},{y:7,x:8},{y:7,x:9},{y:7,x:10},{y:7,x:11},{y:7,x:12},{y:7,x:13},{y:7,x:14},{y:7,x:15},{y:7,x:16},{y:7,x:17},{y:8,x:17},{y:9,x:17},{y:10,x:17},{y:11,x:17},{y:12,x:17},{y:13,x:17},{y:14,x:17},{y:15,x:17},{y:16,x:17},{y:17,x:17},{y:17,x:16},{y:17,x:15},{y:17,x:14},{y:17,x:13},{y:17,x:12},{y:17,x:11},{y:17,x:10},{y:17,x:9},{y:17,x:8},{y:17,x:7},{y:16,x:7},{y:15,x:7},{y:14,x:7},{y:13,x:7},{y:12,x:7},{y:11,x:7},{y:10,x:7},{y:9,x:7},{y:8,x:7},{y:8,x:8},{y:8,x:9},{y:8,x:10},{y:8,x:11},{y:8,x:12},{y:8,x:13},{y:8,x:14},{y:8,x:15},{y:8,x:16},{y:9,x:16},{y:10,x:16},{y:11,x:16},{y:12,x:16},{y:13,x:16},{y:14,x:16},{y:15,x:16},{y:16,x:16},{y:16,x:15},{y:16,x:14},{y:16,x:13},{y:16,x:12},{y:16,x:11},{y:16,x:10},{y:16,x:9},{y:16,x:8},{y:15,x:8},{y:14,x:8},{y:13,x:8},{y:12,x:8},{y:11,x:8},{y:10,x:8},{y:9,x:8},{y:9,x:9},{y:9,x:10},{y:9,x:11},{y:9,x:12},{y:9,x:13},{y:9,x:14},{y:9,x:15},{y:10,x:15},{y:11,x:15},{y:12,x:15},{y:13,x:15},{y:14,x:15},{y:15,x:15},{y:15,x:14},{y:15,x:13},{y:15,x:12},{y:15,x:11},{y:15,x:10},{y:15,x:9},{y:14,x:9},{y:13,x:9},{y:12,x:9},{y:11,x:9},{y:10,x:9},{y:10,x:10},{y:10,x:11},{y:10,x:12},{y:10,x:13},{y:10,x:14},{y:11,x:14},{y:12,x:14},{y:13,x:14},{y:14,x:14},{y:14,x:13},{y:14,x:12},{y:14,x:11},{y:14,x:10},{y:13,x:10},{y:12,x:10},{y:11,x:10},{y:11,x:11},{y:11,x:12},{y:11,x:13},{y:12,x:13},{y:13,x:13},{y:13,x:12},{y:13,x:11},{y:12,x:11},{y:12,x:12}]};t.exports=r},"54dc":function(t,e,a){a("6b93"),a("90d7");var i=a("970b"),r=a("5bc3"),s=a("5e9e"),o=a("6c2b"),n=a("4c62"),x=a("21a6"),l=function(){"use strict";function t(e){i(this,t),this.canvas=e,this.height=e.height,this.width=e.width,this.occupied=0,this.spiral_order=(new n).order,this.sob=null}return r(t,[{key:"loadImage",value:function(t,e){var a=this,i=new Image;i.onload=function(){a.canvas.height=i.height,a.canvas.width=i.width,a.height=i.height,a.width=i.width;var t=a.canvas.getContext("2d");t.drawImage(i,0,0),a.raw_image_data=t.getImageData(0,0,a.width,a.height),s.canvasRGB(a.canvas,0,0,a.width,a.height,e)},i.src=t,this.sob=null}},{key:"blurImage",value:function(t){this.canvas.getContext("2d").putImageData(this.raw_image_data,0,0),s.canvasRGB(this.canvas,0,0,this.width,this.height,t),this.sob=null}},{key:"showImage",value:function(){this.canvas.getContext("2d").putImageData(this.raw_image_data,0,0)}},{key:"sobFilter",value:function(t,e){var a=e/100,i=this.canvas.getContext("2d");i.putImageData(this.raw_image_data,0,0),s.canvasRGB(this.canvas,0,0,this.width,this.height,t),this.sob=o(i.getImageData(0,0,this.width,this.height));for(var r=0;r<this.sob.length;r+=4){var n=this.sob[r];n>255*(1-a)&&255*Math.random()<a*n||(this.sob[r+3]=0)}i.putImageData(this.sob.toImageData(),0,0)}},{key:"generateTxtInfo",value:function(t,e){var a=document.createElement("canvas");a.width=this.width,a.height=this.height;var i=a.getContext("2d");this.word_infos=[];var r=0,s=0,o=this.width;for(this.word_largest_font_reached=[],r;r<t.length;r++)if(this.word_infos.push([]),r<50){for(s=r>Math.min(.8*t.length,40)?-1:0;s<e.length;s++){var n=-1==s?Math.ceil((50-r)/5+5):Math.ceil(Math.log10(Math.max(this.width,this.height))*(e[s]+Math.floor(Math.min(t.length,50)/Math.pow(2,r))+Math.log2(Math.min(t.length,50)-r)));if(n>o)break;i.clearRect(0,0,this.width,this.height),i.font=n+'px "Recursive", sans-serif',i.textBaseline="top";var x=i.measureText(t[r]),l=Math.ceil(Math.abs(x.actualBoundingBoxDescent-x.actualBoundingBoxAscent)),y=Math.ceil(Math.abs(x.actualBoundingBoxRight-x.actualBoundingBoxLeft));if(l>=this.height||y>=this.width)break;i.fillText(t[r],0,0);for(var c=i.getImageData(0,0,y,l).data,h=[],d=0;d<l;d++)for(var u=0;u<y;u++){var g=d*y+u;0!=c[4*g+3]&&h.push({x:u,y:d})}var f={width:y,height:l,txt:t[r],relative_pos:h,font_size:n};this.word_infos[r].push(f)}o=this.word_infos[r].length>1?this.word_infos[r][this.word_infos[r].length-1].font_size:o}else for(s=0;s<this.word_infos[49].length;s++){var v=this.word_infos[49][s].font_size;i.clearRect(0,0,this.width,this.height),i.font=v+'px "Recursive", sans-serif',i.textBaseline="top";var b=i.measureText(t[r]),_=Math.ceil(Math.abs(b.actualBoundingBoxDescent-b.actualBoundingBoxAscent)),w=Math.ceil(Math.abs(b.actualBoundingBoxRight-b.actualBoundingBoxLeft));if(_>=this.height||w>=this.width)break;i.fillText(t[r],0,0);var p=i.getImageData(0,0,w,_).data;for(h=[],d=0;d<_;d++)for(u=0;u<w;u++){var m=d*w+u;0!=p[4*m+3]&&h.push({x:u,y:d})}var C={width:w,height:_,txt:t[r],relative_pos:h,font_size:v};this.word_infos[r].push(C)}for(r=0;r<this.word_infos.length;r++)this.word_infos[r].sort((function(t,e){return e.font_size-t.font_size})),this.word_largest_font_reached.push(0)}},{key:"prepareWC",value:function(t,e){this.canvas.width=this.width,this.canvas.height=this.height,null==this.sob&&this.sobFilter(t,e),this.canvas.getContext("2d").clearRect(0,0,this.width,this.height),this.filled=0,this.available_position=[];for(var a=0;a<this.width*this.height;a++)0!=this.sob[4*a+3]||0==this.raw_image_data.data[4*a+3]?(this.available_position.push(!1),this.filled+=1):this.available_position.push(!0);var i=[];for(a=0;a<this.height;a+=25)for(var r=0;r<this.width;r+=25)i.push({x:r,y:a});function s(t){for(var e,a,i=t.length,r=[],s=0;s<t.length;s++)r.push(t[s]);while(0!==i)a=Math.floor(Math.random()*i),i-=1,e=r[i],r[i]=r[a],r[a]=e;return r}for(this.pick_order=0,this.grid_access_order=[],a=0;a<this.word_infos.length;a++)i=s(i),this.grid_access_order.push(i);for(this.word_grid_access_pos=[],a=0;a<this.word_infos.length;a++){var o=[];for(r=0;r<i.length;r++)o.push(0);this.word_grid_access_pos.push(o)}for(this.word_grid_index=[],a=0;a<this.word_infos.length;a++)this.word_grid_index.push(0);this.occupied=this.filled}},{key:"binarySearchFont",value:function(t,e,a,i,r){var s=0,o=a.length-1,n=-1,x=t?this.height:this.width,l=!1;while(s<=o){var y=Math.floor((s+o)/2),c=a[y];if(l=t?e?c.width<x&&r+c.width<this.height&&i-c.height>=0:c.width<x&&r-c.width>=0&&i+c.height<this.width:c.width<x&&i+c.width<this.width&&r+c.height<this.height,l){for(var h=c.relative_pos,d=!0,u=0;u<h.length;u++){var g,f=0;t?e?(g=i-h[u].y,f=r+h[u].x):(g=i+h[u].y,f=r-h[u].x):(g=i+h[u].x,f=r+h[u].y);var v=f*this.width+g;if(1!=this.available_position[v]){d=!1,x=h[u].x-1,s=y+1;break}}d&&(o=y-1,n=y)}else s=y+1}return n}},{key:"pickWord",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.canvas.getContext("2d"),a=this.pick_order,i=this.word_infos[a];if(this.pick_order=(this.pick_order+1)%this.word_infos.length,0==i.length)return(this.filled-this.occupied)/(this.width*this.height-this.occupied);for(var r,s=Math.random()<=t,o=Math.random()<=.5,n=!1,x=!1,l=!1,y=!1,c=0,h=-1,d=0;d<this.word_grid_access_pos[a].length;d++){var u=this.word_grid_index[a],g=this.grid_access_order[a][u];this.word_grid_index[a]=(u+1)%this.word_grid_access_pos[a].length;for(var f=this.word_grid_access_pos[a][u];f<625;f++){this.word_grid_access_pos[a][u]+=1;var v=this.spiral_order[f],b=v.x+g.x,_=v.y+g.y;if(b<this.width&&_<this.height){var w=i[i.length-1];if(-1!=t?y=s?o?b-w.height>=0&&_+w.width<this.height:b+w.height<this.width&&_-w.width>=0:b+w.width<this.width&&_+w.height<this.height:(x=b-w.height>=0&&_+w.width<this.height,n=b+w.height<this.width&&_-w.width>=0,l=b+w.width<this.width&&_+w.height<this.height,y=x||n||l),y){if(-1!=t)h=this.binarySearchFont(s,o,i,b,_);else{var p=this.binarySearchFont(!1,!1,i,b,_),m=this.binarySearchFont(!0,!0,i,b,_),C=this.binarySearchFont(!0,!1,i,b,_);p>m&&p>C?(s=!1,h=p):m>p&&m>C?(s=!0,o=!0,h=m):(s=!0,o=!1,h=C)}if(-1!=h){var k=0,M=0,B=0,I=i[h].relative_pos;if(i[h].font_size>10){for(var j=0;j<I.length;j++){s?o?(r=b-I[j].y,c=_+I[j].x):(r=b+I[j].y,c=_-I[j].x):(r=b+I[j].x,c=_+I[j].y);var S=c*this.width+r;this.available_position[S]=!1,k+=this.raw_image_data.data[4*S],M+=this.raw_image_data.data[4*S+1],B+=this.raw_image_data.data[4*S+2]}this.filled+=I.length,k/=I.length,M/=I.length,B/=I.length}else{for(var O=0;O<i[h].height;O++)for(var A=0;A<i[h].width;A++){s?o?(r=b-O,c=_+A):(r=b+O,c=_-A):(r=b+A,c=_+O);var T=c*this.width+r;this.available_position[T]=!1,k+=this.raw_image_data.data[4*T],M+=this.raw_image_data.data[4*T+1],B+=this.raw_image_data.data[4*T+2]}this.filled+=i[h].height*i[h].width,k/=i[h].height*i[h].width,M/=i[h].height*i[h].width,B/=i[h].height*i[h].width}return e.fillStyle="rgb("+Math.floor(k)+", "+Math.floor(M)+", "+Math.floor(B)+")",e.font=i[h].font_size+'px "Recursive", sans-serif',e.textBaseline="top",s?(e.save(),e.translate(b,_),o?e.rotate(Math.PI/2):e.rotate(-Math.PI/2),e.fillText(i[h].txt,0,0),e.restore()):e.fillText(i[h].txt,b,_),(this.filled-this.occupied)/(this.width*this.height-this.occupied)}}}}}return(this.filled-this.occupied)/(this.width*this.height-this.occupied)}},{key:"saveWC",value:function(){this.wc_image_data=this.canvas.getContext("2d").getImageData(0,0,this.width,this.height)}},{key:"showWC",value:function(){this.canvas.getContext("2d").putImageData(this.wc_image_data,0,0)}},{key:"downloadWordCloud",value:function(t){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var a=e.getContext("2d");a.putImageData(this.wc_image_data,0,0),a.globalCompositeOperation="destination-over",a.fillStyle=t,a.fillRect(0,0,this.width,this.height),e.toBlob((function(t){x(t,"wordcloud.png")}))}}]),t}();t.exports=l},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},s=[],o=(a("034f"),a("2877")),n={},x=Object(o["a"])(n,r,s,!1,null,null,null),l=x.exports,y=a("8c4f"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("body",{attrs:{id:"intro-body"}},[i("div",{staticClass:"row align-items-center",staticStyle:{margin:"0px","margin-left":"0px"}},[i("div",{staticClass:"col-auto col-sm-auto col-md-auto col-lg-auto col-xl-6 offset-0 align-self-start order-1 mr-auto",staticStyle:{padding:"0px"}},[i("img",{staticClass:"img-fluid",style:{margin:"0px","min-height":"100vh"},attrs:{"data-aos":"fade","data-aos-duration":"1600","data-aos-once":"true",id:"showcase-img",src:a("bba0"),width:"100%",loading:"eager"}}),i("img",{attrs:{src:a("aed7"),width:"0%",loading:"eager"}})]),i("div",{staticClass:"col-auto col-lg-11 col-xl-6 text-center align-self-center order-2 mx-auto align-self-xl-center",staticStyle:{height:"20%",padding:"0px","margin-top":"10px"},attrs:{id:"intro-box"}},[i("h1",{staticClass:"display-4 text-center",staticStyle:{color:"rgb(95,173,197)"},attrs:{id:"intro-header"}},[t._v("Image Word Cloud")]),t._m(0),t._m(1),i("router-link",{staticClass:"btn btn-primary text-center",staticStyle:{"background-color":"rgb(108,208,196)",color:"rgb(13,58,111)","font-size":"17px","padding-top":"6px","margin-bottom":"2%","margin-top":"20px","text-align":"left","font-family":"Roboto, sans-serif","font-weight":"bold","font-style":"normal","border-style":"solid","border-color":"rgb(109,177,173)",filter:"grayscale(6%)"},attrs:{to:"/Canvas",tag:"button",href:"word-cloud.html"}},[t._v("Try it out")])],1)])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticStyle:{color:"rgb(86,206,222)"}},[t._v(" Built by "),a("a",{attrs:{href:"https://github.com/txstc55",target:"_blank"}},[t._v("txstc55")]),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticStyle:{"margin-top":"10%",color:"rgb(86,206,222)","font-size":"22px","font-family":"Alegreya, serif"}},[t._v(" Generate word cloud based on your image and text. "),a("br"),t._v("Hover over the image to see the original image. "),a("br"),t._v("Press the button below to start generating your own word cloud. ")])}],d={name:"Home",components:{},beforeCreate:function(){document.body.className="home-page"},mounted:function(){}},u=d,g=(a("2930"),Object(o["a"])(u,c,h,!1,null,"71a2a85a",null)),f=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v("| "),a("router-link",{attrs:{to:"/github",target:"_blank"}},[t._v("Leave a Star")])],1),a("div",{staticClass:"selection-container"},[a("v-container",[a("v-row",{attrs:{dense:"",justify:"center",align:"center","no-gutters":""}},[a("v-col",{attrs:{sm:"12",xl:"2",lg:"2",md:"6",xs:"12","align-self":"start"}},[a("v-row",{attrs:{justify:"end"}},[a("v-card",{staticClass:"pr-2 mr-4",attrs:{hover:"",width:"85%",color:"rgba(0, 0, 0, 0)",outlined:""}},[a("v-file-input",{attrs:{label:"Upload Image",accept:"image/*",dark:"",flat:"","prepend-icon":"mdi-camera",hint:"Image will be used for text arrangement",loading:"","persistent-hint":"",disabled:t.generating},on:{change:function(e){return t.imageFileChange(e)}}})],1)],1),a("v-row",[a("v-card",{staticClass:"pr-2 mr-4",attrs:{hover:"",width:"85%",color:"rgba(0, 0, 0, 0)",outlined:""}},[a("v-file-input",{attrs:{label:"Upload Text File",type:"file",dark:"",flat:"",hint:"50000 Most frequent words will be used",loading:"","persistent-hint":"",disabled:t.generating},on:{change:function(e){return t.txtFileChange(e)}}})],1)],1),a("v-row",{attrs:{dense:"",justify:"start",align:"start","align-content":"start","no-gutters":""}},[a("v-card",{staticClass:"pr-2 mr-2 mt-3 pl-0 pt-2",attrs:{hover:"",width:"85%",color:"rgba(0, 0, 0, 0)",outlined:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.automatic_vertical,expression:"automatic_vertical"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.automatic_vertical)?t._i(t.automatic_vertical,null)>-1:t.automatic_vertical},on:{change:function(e){var a=t.automatic_vertical,i=e.target,r=!!i.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);i.checked?o<0&&(t.automatic_vertical=a.concat([s])):o>-1&&(t.automatic_vertical=a.slice(0,o).concat(a.slice(o+1)))}else t.automatic_vertical=r}}}),a("label",{staticClass:"label-name label-text",attrs:{for:"checkbox"}},[t._v("Automatic vertical rate: "+t._s(t.automatic_vertical))])])],1)],1),a("v-col",{attrs:{xl:"2",lg:"2",md:"6",sm:"12",xs:"6","align-self":"center"}},[a("v-card",{attrs:{color:"rgba(0, 0, 0, 0)",flat:""}},[a("v-row",[a("label",{staticClass:"control-label label-name"},[t._v("Blur radius")]),a("label",{staticClass:"control-label label-value"},[t._v(t._s(t.blur)+"px")])]),a("v-row",{staticClass:"mb-4",attrs:{align:"stretch"}},[a("vue-slider",{attrs:{min:0,max:10,width:"80%","tooltip-formatter":t.blur_hint,disabled:t.generating},on:{"drag-end":function(e){return t.changeBlur()}},model:{value:t.blur,callback:function(e){t.blur=e},expression:"blur"}})],1)],1),a("v-card",{attrs:{color:"rgba(0, 0, 0, 0)",flat:""}},[a("v-row",[a("label",{staticClass:"control-label label-name"},[t._v("Accuracy")]),a("label",{staticClass:"control-label label-value"},[t._v(t._s(t.accuracy)+"%")])]),a("v-row",{staticClass:"mb-4",attrs:{align:"stretch"}},[a("vue-slider",{attrs:{min:20,max:80,width:"80%","tooltip-formatter":t.accuracy_hint,disabled:t.generating},on:{"drag-end":function(e){return t.changeAccuracy()}},model:{value:t.accuracy,callback:function(e){t.accuracy=e},expression:"accuracy"}})],1)],1),a("v-card",{attrs:{color:"rgba(0, 0, 0, 0)",flat:""}},[a("v-row",[a("label",{staticClass:"control-label label-name"},[t._v("Space occupancy")]),a("label",{staticClass:"control-label label-value"},[t._v(t._s(t.fill)+"%")])]),a("v-row",{staticClass:"mb-4",attrs:{align:"stretch"}},[a("vue-slider",{attrs:{min:20,max:100,width:"80%","tooltip-formatter":t.fill_hint,disabled:t.generating},model:{value:t.fill,callback:function(e){t.fill=e},expression:"fill"}})],1)],1),a("v-card",{attrs:{color:"rgba(0, 0, 0, 0)",flat:""}},[a("v-row",[a("label",{staticClass:"control-label label-name"},[t._v("Vertical rate")]),a("label",{staticClass:"control-label label-value"},[t._v(t._s(t.vertical_rate)+"%")])]),a("v-row",{staticClass:"mb-4",attrs:{align:"stretch"}},[a("vue-slider",{attrs:{min:0,max:100,width:"80%","tooltip-formatter":t.vertical_hint,disabled:t.generating||t.automatic_vertical},model:{value:t.vertical_rate,callback:function(e){t.vertical_rate=e},expression:"vertical_rate"}})],1)],1)],1),a("v-col",{attrs:{xl:"3",lg:"3",md:"6",sm:"12",xs:"12","align-self":"center"}},[a("v-row",{attrs:{align:"stretch"}},[a("label",{attrs:{id:"text-area-label"}},[t._v('Update words by editing text field. Seperate words by "; " or "；".')])]),a("v-row",{attrs:{align:"stretch"}},[a("v-textarea",{attrs:{outlined:"",dark:"","no-resize":"",flat:""},model:{value:t.txt_joined,callback:function(e){t.txt_joined=e},expression:"txt_joined"}})],1)],1),a("v-col",{staticClass:"pl-5",attrs:{xl:"3",lg:"3",md:"6",sm:"12",xs:"12","align-self":"start"}},[a("chrome-picker",{attrs:{disableFields:""},model:{value:t.canvas_bg_color,callback:function(e){t.canvas_bg_color=e},expression:"canvas_bg_color"}})],1),a("v-col",{attrs:{xl:"2",lg:"2",md:"12",sm:"12",xs:"12","align-self":"start"}},[a("v-row",{attrs:{align:"start",dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:t.generating},on:{click:function(e){return t.showImage()}}},[t._v("Show Pic")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:!t.wc_generated},on:{click:function(e){return t.showWC()}}},[t._v("Show WC")])],1)],1),a("v-row",{attrs:{align:"baseline",dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:t.generating},on:{click:function(e){return t.update_selected_words()}}},[t._v("Update words")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:t.generating},on:{click:function(e){return t.generate()}}},[t._v("Generate!")])],1)],1),a("v-row",{attrs:{align:"baseline"}},[a("v-col",[a("v-btn",{staticClass:"abort-button",attrs:{small:"",width:"100%",color:"rgb(192, 10, 14)",disabled:!t.generating},on:{click:function(e){t.generating=!t.generating}}},[t._v("ABORT")])],1)],1),a("v-row",{attrs:{align:"baseline",dense:""}},[a("v-col",[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:!t.wc_generated},on:{click:t.downloadWithBG}},[t._v("Download with background")])],1)],1),a("v-row",{attrs:{align:"baseline",dense:""}},[a("v-col",[a("v-btn",{staticClass:"output-button",attrs:{small:"",width:"100%",color:"rgb(10, 192, 144)",disabled:!t.wc_generated},on:{click:t.downloadWOBG}},[t._v("Download W/O background")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"progress"},[a("div",{ref:"progress_bar",staticClass:"progress-bar bg-info",staticStyle:{width:"0%"},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(" "+t._s(t.progress_info)+" ")])])])],1)],1)],1),a("div",{staticClass:"canvas-wrapper"},[a("canvas",{ref:"myCanvas",staticClass:"canvas",attrs:{width:"1000px",height:"1000px"}})])])},b=[],_=(a("cb29"),a("4de4"),a("4160"),a("c975"),a("a15b"),a("d81d"),a("fb6a"),a("b680"),a("ac1f"),a("1276"),a("498a"),a("159b"),a("2909")),w=a("c345"),p=a("4971"),m=a.n(p),C=(a("3e39"),a("54dc")),k=a.n(C),M={r:9,g:24,b:30,a:1},B=a("7ee7"),I=a("2dac"),j=a("1c40"),S=a("878b"),O={name:"wordCloudCanvas",components:{"chrome-picker":w["Chrome"],VueSlider:m.a},data:function(){return{canvas:null,im:null,wc:null,progress_bar:null,canvas_bg_color:M,percent_value:20,progress_info:"",blur:5,accuracy:40,fill:30,vertical_rate:20,automatic_vertical:!1,blur_hint:"Apply a blur filter of radius {value} px to input image",accuracy_hint:"Color boundaries are {value}% presented",fill_hint:"Canvas is {value}% filled",vertical_hint:"{value}% of text will be vertical",wc_generated:!1,generating:!1,selected_words:["nation","people","men","war","devotion","Four","score","seven","years","fathers","continent","Liberty","proposition","battle-field","portion","field","place","lives","sense","consecrate","hallow","ground","power","world","note","work","task","cause","measure","God","birth","freedom","government","earth"],txt_joined:"abc",font_size_base:[1,2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199]}},watch:{selected_words:function(t){this.txt_joined=t.join("; ")},canvas_bg_color:function(t){this.$refs.myCanvas.style.backgroundColor="rgba("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+", "+t.rgba.a+")"}},methods:{update_selected_words:function(){var t=this.txt_joined.split(/;|；/).map((function(t){return t.trim()}));0==t.length||1==t.length&&""==t[0]?this.txt_joined=this.selected_words.join("; "):this.selected_words=t.filter((function(e,a){return t.indexOf(e)===a&&""!=e})).slice(0,5e4)},txtFileChange:function(t){var e=new FileReader,a=this;e.onload=function(t){var e=t.target.result;function i(t,e){if(t)throw t;a.selected_words=[],e.data.keywords.forEach((function(t){a.selected_words.push(S(t.matches[0].node))})),a.selected_words=a.selected_words.filter((function(t,e){return a.selected_words.indexOf(t)===e&&""!=t})).slice(0,5e4)}B().use(I).use(j,{maximum:55e3}).process(e,i)},e.readAsText(t)},changeBlur:function(){this.wc.blurImage(this.blur)},imageFileChange:function(t){var e=this;this.progress_bar.setAttribute("style","width: 0%");var a=this,i=t;if(i){var r=new FileReader;r.onload=function(t){a.wc.loadImage(t.target.result,e.blur)},r.readAsDataURL(i),this.wc_generated=!1}},showImage:function(){this.blur=0,this.wc.showImage()},showWC:function(){this.wc.showWC()},changeAccuracy:function(){this.wc.sobFilter(this.blur,this.accuracy)},generate:function(){this.progress_bar.setAttribute("style","width: 0%"),this.progress_bar.innerHTML="0%",this.wc.generateTxtInfo(this.selected_words,this.font_size_base),this.progress_bar.setAttribute("style","width: 10%"),this.progress_bar.innerHTML="10%",this.wc.prepareWC(this.blur,this.accuracy),this.progress_bar.setAttribute("style","width: 15%"),this.progress_bar.innerHTML="15%";var t=0,e=this;function a(){e.wc_generated=!1,t=e.wc.pickWord(e.automatic_vertical?-1:e.vertical_rate/100),e.progress_bar.setAttribute("style","width: "+(15+.8*t*1e4/e.fill)+"%"),e.progress_bar.innerHTML="Generating: "+(15+.8*t*1e4/e.fill).toFixed(3)+"%",t<e.fill/100&&e.generating?setTimeout(a,1):(e.progress_bar.setAttribute("style","width: 100%"),e.progress_bar.innerHTML="DONE",e.generating=!1,e.wc_generated=!0,e.wc.saveWC())}e.generating=!0,a()},downloadWithBG:function(){var t=this.$refs.myCanvas.style.backgroundColor;console.log(t),this.wc.downloadWordCloud(t)},downloadWOBG:function(){this.wc.downloadWordCloud("rgba(0, 0, 0, 0)")}},mounted:function(){var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1){var e=document.querySelectorAll(".v-file-input input");Object(_["a"])(e).forEach((function(t){t.remove()}))}this.txt_joined=this.selected_words.join("; "),this.$refs.myCanvas.style.backgroundColor="rgba("+this.canvas_bg_color.r+", "+this.canvas_bg_color.g+", "+this.canvas_bg_color.b+", "+this.canvas_bg_color.a+")",this.canvas=this.$refs.myCanvas,this.progress_bar=this.$refs.progress_bar,this.wc=new k.a(this.canvas);var i=a("59b4");this.wc.loadImage(i,this.blur),this.generate()}},A=O,T=(a("d3b7c"),a("6544")),W=a.n(T),F=a("8336"),D=a("b0af"),R=a("62ad"),z=a("a523"),P=a("23a7"),E=a("0fd9"),G=a("a844"),L=Object(o["a"])(A,v,b,!1,null,null,null),$=L.exports;W()(L,{VBtn:F["a"],VCard:D["a"],VCol:R["a"],VContainer:z["a"],VFileInput:P["a"],VRow:E["a"],VTextarea:G["a"]}),i["default"].use(y["a"]);var H=[{path:"/",name:"Home",component:f},{path:"/Canvas",name:"WordCloudCanvas",component:$},{path:"/github",beforeEnter:function(){location.href="https://github.com/prettywordcloud/prettywordcloud.github.io"}}],V=new y["a"]({routes:H}),U=V,N=a("2f62");i["default"].use(N["a"]);var q=new N["a"].Store({state:{},mutations:{},actions:{},modules:{}}),J=a("f309");i["default"].use(J["a"]);var K=new J["a"]({}),Q=a("0284"),X=a.n(Q);i["default"].config.productionTip=!1,i["default"].use(X.a,{id:"UA-170913292-4",router:U}),new i["default"]({router:U,store:q,vuetify:K,render:function(t){return t(l)}}).$mount("#app")},"59b4":function(t,e,a){t.exports=a.p+"img/lincoln.93e270b8.jpg"},"85ec":function(t,e,a){},"90e6":function(t,e,a){},aed7:function(t,e,a){t.exports=a.p+"img/self.6803e257.jpg"},bba0:function(t,e,a){t.exports=a.p+"img/self.f9157abf.png"},d3b7c:function(t,e,a){"use strict";var i=a("f1fc"),r=a.n(i);r.a},f1fc:function(t,e,a){}});
//# sourceMappingURL=app.358a54ba.js.map